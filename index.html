<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title> Создание формы обратной связи </title>
    <meta name="description" content="Благотварительня форма" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:400,700&display=swap&subset=cyrillic" rel="stylesheet">
<script src="https://widget.cloudpayments.ru/bundles/cloudpayments.js"></script>
    
</head>

<body>

    <div class="form-wrapper">

        <form class="contact-form" id="contact-form_1" enctype="multipart/form-data">
            <p class="contact-form__title">Оставьте на корм котикам</p>
            <p class="contact-form__description"></p>
            <div class="contact-form__input-wrapper">
                <input id="name_field" name="name" type="text" class="contact-form__input contact-form__input_name"
                    placeholder="Введите ФИО">
                <div class="contact-form__error contact-form__error_name"></div>
            </div>

            <div class="contact-form__input-wrapper">
                <input id="phone_field" name="tel" type="tel" class="contact-form__input contact-form__input_tel"
                       placeholder="Введите ваш телефон">
                <div class="contact-form__error contact-form__error_tel"></div>
            </div>

            <div class="contact-form__input-wrapper"> 
                <input id="email-field" name="email" type="email" class="contact-form__input contact-form__input_email"
                    placeholder="Введите ваш email">
                <div class="contact-form__error contact-form__error_email"></div>
            </div>

            <div class="contact-form__input-wrapper">
                <textarea id="textarea_field" name="text" class="contact-form__input contact-form__text" placeholder="Введите ваше сообщение"></textarea>
                <div class="contact-form__error contact-form__error_text"></div>
            </div>

         <!--  <div class="contact-form__input-wrapper">
                <input class="contact-form__input contact-form__file" type="file" name="files[]">
                <div class="contact-form__error contact-form__error_file"></div>
            </div>  // -->

            <div class="contact-form__input-wrapper">
                <input id="check" type="checkbox" name="agreement" class="contact-form__input contact-form__checkbox" id="agreement">
                <label for="agreement" class="contact-form__checkbox-label">Подписка на месяц <a href="#">пользовательского соглашения</a></label>
                <div class="contact-form__error contact-form__error_agreement"></div>
            </div>

            <button id="payment" class="contact-form__button" type="submit";> Внести пожертвование </button>
        </form>
        
    </div>
    <!-- jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    <!-- jQuery Mask Plugin -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    
    <script src="mail/js/main.js"></script>
<script>
this.pay = function () {
 var widget = new cp.CloudPayments();
    widget.pay('charge', // или 'charge'
        { //options
            publicId: 'pk_3964da3d612302cfbf41b94414ec6', //id из личного кабинета
            description: 'Оплата товаров в example.com', //назначение
            amount: 100, //сумма
            currency: 'RUB', //валюта
            accountId: 'user@example.com', //идентификатор плательщика (необязательно)
            invoiceId: '1234567', //номер заказа  (необязательно)
            email: 'user@example.com', //email плательщика (необязательно)
            skin: "mini", //дизайн виджета (необязательно)
            autoClose: 3, //время в секундах до авто-закрытия виджета (необязательный)
            data: {
                myProp: 'myProp value'
            },
            configuration: {
                common: {
                    successRedirectUrl: "https://{ваш сайт}/success", // адреса для перенаправления 
                    failRedirectUrl: "https://{ваш сайт}/fail"        // при оплате по Tinkoff Pay
                }
            },
            payer: { 
                firstName: 'Тест',
                lastName: 'Тестов',
                middleName: 'Тестович',
                birth: '1955-02-24',
                address: 'тестовый проезд дом тест',
                street: 'Lenina',
                city: 'MO',
                country: 'RU',
                phone: '123',
                postcode: '345'
            }
        },
        {
            onSuccess: function (options) { // success
                //действие при успешной оплате
            },
            onFail: function (reason, options) { // fail
                //действие при неуспешной оплате
            },
            onComplete: function (paymentResult, options) { //Вызывается как только виджет получает от api.cloudpayments ответ с результатом транзакции.
                //например вызов вашей аналитики
            }
        }
    )
}

document.getElementById("payment").onclick = pay;
    </script>
</body>

</html>
